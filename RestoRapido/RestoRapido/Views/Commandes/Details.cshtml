@model RestoRapido.Models.CCommande

@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>CCommande</h4>

    <hr />

    <dl>
        <dt>
            @Html.DisplayNameFor(model => model.mCmdDate)        
        </dt>
        
        <dd>
            @Html.DisplayFor(model => model.mCmdDate)        
        </dd>
        <br>
        <dt>
            @Html.DisplayNameFor(model => model.mCmdResto.resNom)    
        </dt>

        <dd>
            @Html.DisplayFor(model => model.mCmdResto.resNom)
       </dd>
        <br>

        <dt>
            @Html.DisplayNameFor(model => model.mCmdTable.i_TableNum)        
        </dt>

        <dd>
            @Html.DisplayFor(model => model.mCmdTable.i_TableNum)        
        </dd>
        <br>
        <dt>
            @Html.DisplayNameFor(model => model.mUtilisateurClient.UtilisateurNomUsager)        
        </dt>

        <dd>
            @Html.DisplayFor(model => model.mUtilisateurClient.UtilisateurNomUsager)        
        </dd>
        <br>
        <dt>
            @Html.DisplayNameFor(model => model.mCmdCommentCommandes)        
        </dt>

        <dd>
            @Html.DisplayFor(model => model.mCmdCommentCommandes)
        </dd>

    </dl>

    <label> Liste des Repas : </label>

    <table border="1" align="center" >

        <tr>
            <th>
                NOM
            </th>

            <th>
                QUANTITÉ
            </th>
            <th>
                PRIX
            </th>
            <th>
                COMMENTAIRES
            </th>
        </tr>

        @{
            List<RestoRapido.Models.CCmdRepas> Repas = ViewBag.YourMeet;

            foreach (var item in Repas)
            {
                <tr style="text-align: left">
                    <td width="40px">
                        @item.mRepas.m_strNom
                    </td>
                    <td width="40px" style="text-align:center">
                        @item.mNbRep
                    </td>
                    <td width="40px" style="text-align:center">
                        @(item.mRepas.m_iPrix * item.mNbRep)
                    </td>
                    <td width="40px">
                        @item.mCommentaire
                    </td>
                </tr>
            }
        }

    </table>
   
    <br>

    <div style="text-align:center">
          <label> Montant Avant Taxes : </label> @Html.DisplayFor(model => model.mCmdPrixAvantTaxes)

            <br>
          <label> Montant Total : </label> @Html.DisplayFor(model => model.mCmdPrixTotal)
    <div> 

</div>

<p>
    @if (Session["Type"] == "Client")
    {
        @Html.ActionLink("Retour", "Index")
    }
    else
    {
        @Html.ActionLink("Retour", "IndexAGS")
    }
      
</p>
